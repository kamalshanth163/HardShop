<app-nav></app-nav>

<!-- Sign in -->
<div class="signin" *ngIf="account">
  <h4 class="title">Sign into your account</h4>
  <form (ngSubmit)="login(model)">
    <div class="form-group">
      <label>Email address</label>
      <input
        type="email"
        class="form-control"
        requried
        name="email"
        [(ngModel)]="model.email"
      />
    </div>
    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        class="form-control"
        requried
        name="password"
        [(ngModel)]="model.password"
      />
    </div>

    <div>
      <div class="form-group text-center">
        <button class="btn btn-info" type="submit">Sign in</button>
        <button
          class="btn btn-default ml-2"
          [routerLink]="['/home']"
          type="button"
        >
          Cancel
        </button>
      </div>
      <hr />
      <div class="form-group text-center">
        <span>Don't have an account? </span>
        <a class="switch-link" (click)="haveAccount()"> Sign up</a>
      </div>
    </div>
  </form>
</div>

<!-- Sign up -->
<div class="signup" *ngIf="!account">
  <h4 class="title">Create your account</h4>
  <form [formGroup]="registerForm" (ngSubmit)="register(model)">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label>First name</label>
        <input type="text" class="form-control" formControlName="firstName" />
      </div>
      <div class="form-group col-md-6">
        <label>Last name</label>
        <input type="text" class="form-control" formControlName="lastName" />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Email address</label>
        <input type="email" class="form-control" formControlName="email" />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Phone</label><br />
        <ngx-intl-tel-input
          formControlName="phone"
          [cssClass]="'custom'"
          [enableAutoCountrySelect]="false"
          [enablePlaceholder]="true"
          [searchCountryFlag]="true"
          [selectFirstCountry]="false"
          [maxLength]="15"
          [phoneValidation]="true"
          name="phone"
          formControlName="phone"
        ></ngx-intl-tel-input>
      </div>
      <div class="form-group col-md-6">
        <label>Date of birth</label>
        <input type="date" class="form-control" formControlName="dateOfBirth" />
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Password</label>
        <input
          type="password"
          class="form-control"
          formControlName="password"
        />
      </div>
      <div class="form-group col-md-6">
        <label>Confirm password</label>
        <input
          type="password"
          class="form-control"
          formControlName="confirmPassword"
        />
      </div>
    </div>
    <div>
      <div class="form-group text-center">
        <button class="btn btn-success" type="submit">Sign up</button>
        <button
          class="btn btn-default ml-2"
          [routerLink]="['/home']"
          type="button"
        >
          Cancel
        </button>
      </div>
      <hr />
      <div class="form-group text-center">
        <span>Already have an account? </span>
        <a class="switch-link" (click)="haveAccount()"> Sign in</a>
      </div>
    </div>
  </form>
</div>

<p>Form value: {{ registerForm.value | json }}</p>
<p>Form status: {{ registerForm.status | json }}</p>
